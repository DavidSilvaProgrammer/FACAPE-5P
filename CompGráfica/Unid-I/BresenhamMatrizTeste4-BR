#include <stdio.h>

#define LINHAS 10
#define COLUNAS 20

void bresenham(int x0, int y0, int x1, int y1, int matriz[LINHAS][COLUNAS]) {
    int dx = x1 - x0;
    int dy = y1 - y0;
    int sx, sy, erro, e2;

    if (dy < 0) {
        dy = -dy;
        sy = -1;
    } else {
        sy = 1;
    }

    if (dx < 0) {
        dx = -dx;
        sx = -1;
    } else {
        sx = 1;
    }

    erro = dx - dy;

    while (x0 != x1 || y0 != y1) {
        if (x0 >= 0 && x0 < COLUNAS && y0 >= 0 && y0 < LINHAS) {
            matriz[y0][x0] = 1; // Define o pixel como parte da linha
        }

        e2 = 2 * erro;
        if (e2 > -dy) {
            erro -= dy;
            x0 += sx;
        }
        if (e2 < dx) {
            erro += dx;
            y0 += sy;
        }
    }
}

int main() {
    int matriz[LINHAS][COLUNAS] = {0}; // Inicializa a matriz com zeros

    // Solicita os pontos inicial e final da linha ao usuÃ¡rio
    int x0, y0, x1, y1;
    printf("OBS: Limite de x: 0 a 19\n\tLimite de y: 0 a 9\n");
    printf("\tx pontos horizontais e y pontos verticais\n\n");
    printf("Digite as coordenadas do ponto inicial (x0 y0): ");
    scanf("%d %d", &x0, &y0);
    printf("Digite as coordenadas do ponto final (x1 y1): ");
    scanf("%d %d", &x1, &y1);
    printf("\n");
    
    // Desenha a linha usando o algoritmo de Bresenham
    bresenham(x0, y0, x1, y1, matriz);

    // Imprime a matriz
    for (int i = 0; i < LINHAS; i++) {
        for (int j = 0; j < COLUNAS; j++) {
            printf("%d ", matriz[i][j]);
        }
        printf("\n");
    }

    return 0;
}

/*
Este programa em C implementa o algoritmo de Bresenham para desenhar uma linha em uma matriz bidimensional. Vamos entender cada parte:

    DefiniÃ§Ã£o de Constantes:
        LINHAS e COLUNAS definem o tamanho da matriz que representa a tela onde desenharemos a linha.
        A funÃ§Ã£o bresenham recebe os pontos inicial e final da linha, bem como a matriz onde desenharemos.

    FunÃ§Ã£o bresenham:
        Calcula as diferenÃ§as em x e y entre os pontos inicial e final.
        Determina os incrementos sx e sy com base nas diferenÃ§as.
        Inicializa o erro erro como a diferenÃ§a em x.
        O loop continua atÃ© que os pontos sejam iguais.
        Se o ponto atual estiver dentro dos limites da matriz, marcamos esse pixel como parte da linha.
        Atualizamos o erro e os pontos x e y conforme o algoritmo de Bresenham.

    FunÃ§Ã£o main:
        Inicializa a matriz com zeros.
        Solicita ao usuÃ¡rio os pontos inicial e final da linha.
        Chama a funÃ§Ã£o bresenham para desenhar a linha na matriz.
        Imprime a matriz resultante.

O algoritmo de Bresenham Ã© eficiente e usado para desenhar linhas em sistemas grÃ¡ficos. 
Ele calcula os pixels discretos que formam a linha, evitando o uso de nÃºmeros reais e arredondamentos. 
O resultado Ã© uma representaÃ§Ã£o aproximada da linha na matriz. Neste caso, a matriz impressa mostra os 
pixels que fazem parte da linha entre os pontos fornecidos pelo usuÃ¡rio.


Vou explicar o propÃ³sito de cada uma dessas variÃ¡veis no cÃ³digo:



    sx e sy:
        Essas variÃ¡veis representam os incrementos nos eixos x e y, respectivamente.
        O valor de sx Ã© 1 se a diferenÃ§a em x entre os pontos inicial e final for positiva, caso contrÃ¡rio, Ã© -1.
        O valor de sy Ã© 1 se a diferenÃ§a em y entre os pontos inicial e final for positiva, caso contrÃ¡rio, Ã© -1.
        Esses incrementos sÃ£o usados para determinar a direÃ§Ã£o em que a linha estÃ¡ sendo desenhada.

    erro:
        A variÃ¡vel erro representa o erro acumulado durante o desenho da linha.
        Inicialmente, Ã© definida como a diferenÃ§a em x entre os pontos inicial e final.
        Ã€ medida que a linha Ã© desenhada, o erro Ã© atualizado com base nas diferenÃ§as em x e y.
        O algoritmo de Bresenham usa esse erro para decidir qual pixel deve ser marcado como parte da linha.

    e2:
        A variÃ¡vel e2 Ã© um valor auxiliar usado para otimizar o algoritmo.
        Ela Ã© calculada como o dobro do erro.
        Comparando e2 com as diferenÃ§as em x e y, o algoritmo decide se deve mover-se horizontalmente ou verticalmente.

Essas variÃ¡veis sÃ£o essenciais para o funcionamento correto do algoritmo de Bresenham, que desenha uma linha de forma 
eficiente e precisa em uma matriz bidimensional.
*/


/*
Segunda explicaÃ§Ã£o:

Claro! O cÃ³digo em C que vocÃª forneceu implementa o algoritmo de Bresenham para desenhar uma linha em uma matriz bidimensional. Vou explicar como ele segue a lÃ³gica do algoritmo:

    CÃ¡lculo das diferenÃ§as em x e y:
        dx = x1 - x0
        dy = y1 - y0

    DeterminaÃ§Ã£o dos sinais de incremento (sx e sy):
        Se dy for negativo, inverte o sinal de dy e define sy = -1.
        Caso contrÃ¡rio, sy = 1.
        O mesmo Ã© feito para dx e sx.

    InicializaÃ§Ã£o do parÃ¢metro de erro (erro):
        erro = dx - dy

    Loop principal:
        Enquanto x0 nÃ£o for igual a x1 ou y0 nÃ£o for igual a y1:
            Se as coordenadas (x0, y0) estiverem dentro dos limites da matriz:
                Define o pixel na posiÃ§Ã£o (x0, y0) como parte da linha (atribui 1 Ã  matriz).
            Calcula e2 = 2 * erro.
            Se e2 for maior que -dy, atualiza erro e incrementa ou decrementa x0 (dependendo do sinal de sx).
            Se e2 for menor que dx, atualiza erro e incrementa ou decrementa y0 (dependendo do sinal de sy).

    ImpressÃ£o da matriz resultante:
        O cÃ³digo imprime a matriz preenchida com 0s e 1s, onde 1 representa os pixels que fazem parte da linha desenhada.

Lembre-se de que a matriz resultante serÃ¡ impressa no console, mostrando os pixels que formam a linha entre os pontos inicial e final que vocÃª especificou. ðŸ˜Š
*/

/*
ExplicaÃ§Ã£o 3 detalhada. Foco na funÃ§Ã£o e suas variÃ¡veis:

Claro! Vamos analisar cada parte do cÃ³digo e entender o significado de cada variÃ¡vel e sua funÃ§Ã£o no algoritmo de Bresenham:

    VariÃ¡veis e seus propÃ³sitos:
        dx (diferenÃ§a em x): Representa a diferenÃ§a entre as coordenadas x do ponto final e do ponto inicial.
        dy (diferenÃ§a em y): Representa a diferenÃ§a entre as coordenadas y do ponto final e do ponto inicial.
        sx (incremento em x): Determina se o prÃ³ximo pixel na direÃ§Ã£o x deve ser incrementado ou decrementado.
        sy (incremento em y): Determina se o prÃ³ximo pixel na direÃ§Ã£o y deve ser incrementado ou decrementado.
        erro: Ã‰ um parÃ¢metro usado para acompanhar o erro acumulado durante o desenho da linha.
        e2: Ã‰ uma variÃ¡vel auxiliar usada para otimizar o cÃ¡lculo do erro.

    ExplicaÃ§Ã£o detalhada:

        DeterminaÃ§Ã£o dos incrementos sx e sy:
            Se dy for negativo, significa que a linha estÃ¡ inclinada para baixo (de cima para baixo). 
        Nesse caso, invertemos o sinal de dy e definimos sy = -1.
            Caso contrÃ¡rio, a linha estÃ¡ inclinada para cima (de baixo para cima), entÃ£o sy Ã© definido como 1.
            O mesmo raciocÃ­nio Ã© aplicado para dx e sx.

        InicializaÃ§Ã£o do erro (erro):
            O erro Ã© inicializado com a diferenÃ§a em x (erro = dx - dy).

        Loop principal:
            O loop continua atÃ© que os pontos (x0, y0) sejam iguais aos pontos finais (x1, y1).
            Se as coordenadas atuais (x0, y0) estiverem dentro dos limites da matriz, marcamos esse pixel 
            como parte da linha (atribuÃ­mos 1 Ã  matriz).
            Calculamos e2 = 2 * erro.
            Se e2 for maior que -dy, atualizamos o erro e incrementamos ou decrementamos x0 (dependendo do sinal 
            de sx).
            Se e2 for menor que dx, atualizamos o erro e incrementamos ou decrementamos y0 (dependendo do sinal 
            de sy).

        O que Ã© o erro?
            O erro Ã© uma medida de quÃ£o longe a linha desenhada estÃ¡ da posiÃ§Ã£o ideal (linha reta). 
        Ele Ã© usado para determinar qual pixel deve ser escolhido na prÃ³xima iteraÃ§Ã£o para aproximar a linha reta.

        Nomes das variÃ¡veis:
            Os nomes das variÃ¡veis sÃ£o escolhidos para serem concisos e representativos de sua funÃ§Ã£o. 
            Por exemplo, dx e dy indicam as diferenÃ§as nas coordenadas x e y, respectivamente. sx e sy 
            representam os incrementos em x e y. O nome erro Ã© usado para acompanhar o erro acumulado.

Espero que esta explicaÃ§Ã£o tenha esclarecido o funcionamento do algoritmo de Bresenham e o papel de cada variÃ¡vel! 
*/
